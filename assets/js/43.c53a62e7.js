(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{452:function(t,e,s){"use strict";s.r(e);var r=s(2),a=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"服务端搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务端搭建"}},[t._v("#")]),t._v(" 服务端搭建")]),t._v(" "),e("p",[t._v("配置文件"),e("code",[t._v("/usr/local/frps/frps.toml")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('bindPort = 11502\nauth.method = "token"\nauth.token = "password"\nvhostHTTPPort = 11506\nvhostHTTPSPort = 11507\n# webServer.addr = "0.0.0.0"\n# webServer.port = 11508\n# webServer.user = "root"\n# webServer.password = "password"\ntransport.tls.force = false\ntransport.maxPortsPerClient = 20\nallowPorts = [\n    { single = 11503 },\n    { single = 11504 },\n    { start = 30000, end = 40000 }\n]\n')])])]),e("p",[t._v("服务文件"),e("code",[t._v("/usr/lib/systemd/system/frps.service")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[Unit]\nDescription=frps\nAfter=network.target syslog.target\nWants=network.target\n\n[Service]\nType=simple\nExecStart=/usr/local/frps/frps -c /usr/local/frps/frps.toml\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n")])])]),e("p",[t._v("开机启动")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("systemctl enable frps.service\n")])])]),e("h2",{attrs:{id:"客户端搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#客户端搭建"}},[t._v("#")]),t._v(" 客户端搭建")]),t._v(" "),e("p",[t._v("配置文件"),e("code",[t._v("/etc/frp/frpc.toml")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('serverAddr = "ip or domain"\nserverPort = 11502\nauth.method = "token"\nauth.token = "password"\n\n[[proxies]]\nname = "HiRemote"\ntype = "tcp"\nlocalIP = "127.0.0.1"\nlocalPort = 22\nremotePort = 11503\n')])])]),e("p",[t._v("服务文件"),e("code",[t._v("/usr/lib/systemd/system/frpc.service")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[Unit]\nDescription=Frp Client\nAfter=network.target\nWants=network.target\n\n[Service]\nRestart=on-failure\nRestartSec=6s\nExecStart=/usr/bin/frpc -c /etc/frp/frpc.toml\n\n[Install]\nWantedBy=multi-user.target\n")])])]),e("p",[t._v("开机启动")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("systemctl enable frpc.service\n")])])])])}),[],!1,null,null,null);e.default=a.exports}}]);